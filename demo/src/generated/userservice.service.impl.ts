// Generated by AutoGen...
import { User } from '../entity/user';
import { UserService } from '../service/user-service';

export class UserServiceImpl extends UserService {
    public create(user: User): void {
        if (this.isValidUser(user)) {
            this.db?.save(user);
        } else {
            throw new Error('Invalid user data');
        }
    }

    public findByName(name: string): User | undefined {
        if (this.isValidName(name)) {
            return this.db?.find(name);
        }
        return undefined;
    }

    private isValidUser(user: User): boolean {
        return this.isValidName(user.name) && this.isValidAge(user.age);
    }

    private isValidName(name: string): boolean {
        return name.length > 3 && name.length < 15;
    }

    private isValidAge(age: number): boolean {
        return age >= 0 && age <= 120;
    }
}