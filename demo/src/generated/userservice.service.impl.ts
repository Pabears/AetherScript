import { User } from "../entity/user";
import { UserService } from "../service/user-service";

// Generated by AutoGen...

export class UserServiceImpl extends UserService {
    // 1. check: 3<name.length()<15 and 0<=age<=120
    private validateUser(user: User): void {
        const name = user.name;
        if (name.length < 3 || name.length > 15) {
            throw new Error("Invalid name length");
        }
        if (user.age <= 0 || user.age > 120) {
            throw new Error("Invalid age");
        }
    }

    // 2. db.save(user)
    public create(user: User): void {
        this.validateUser(user);
        this.db?.save(user);
    }

    // find user by name from db
    public findByName(name: string): User | undefined {
        return this.db?.find(name);
    }
}