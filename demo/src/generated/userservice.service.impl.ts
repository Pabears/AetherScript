import { UserService, User } from "../user";

// Generated by AutoGen
import { DB } from '../user';

export class UserServiceImpl extends UserService {
  // The db property is inherited from the parent class and can be accessed directly using 'this'
  // The create method implementation is not provided as it is abstract in the parent class.
  // You must provide an implementation for this method that checks if the name length is between 3 and 15 characters,
  // and if the age is between 0 and 120, and then saves the user object to the database using the db property.
  create(user: User) {
    const { name, age } = user;
    if (name.length >= 3 && name.length <= 15 && age >= 0 && age <= 120) {
      this.db?.save(user);
    }
  }

  // The findByName method implementation is not provided as it is abstract in the parent class.
  // You must provide an implementation for this method that checks if the name length is between 3 and 15 characters,
  // and then returns the user object from the database using the db property. If no user with the given name exists, return undefined.
  findByName(name: string) {
    const { db } = this;
    if (name.length >= 3 && name.length <= 15) {
      return db?.find(name);
    }
    return undefined;
  }
}