# AetherScript: AI-Assisted Development You Can Trust

AetherScript is a CLI tool that redefines human-AI collaboration in software development. It leverages the power of Large Language Models (LLMs) to automate the implementation of well-defined interfaces, while ensuring the developer always remains in full control.

## Core Philosophy: Human-Led, AI-Assisted

The central idea behind AetherScript is to **separate human intent from AI implementation**.

1.  **The Human Defines the Architecture**: As a developer, you define the "what" and the "how" of your application's architecture. You create abstract classes and interfaces, defining the contracts and boundaries of your system.
2.  **The AI Handles the Boilerplate**: You then use the `@AutoGen` decorator to mark the specific parts of your code that you want the AI to implement. This is typically boilerplate code, such as the implementation of a service based on an interface.
3.  **The Developer Stays in Control**: The AI-generated code is never injected into your source files. It is placed in a separate, dedicated `generated` directory. You, the developer, explicitly import and use the generated code, giving you the final say on what gets included in your application.

This approach provides the best of both worlds: the creative, high-level architectural control of a human developer, combined with the speed and efficiency of an AI that handles the tedious implementation details.

## Self-Hosting: Walking the Walk

AetherScript is not just a tool for other projects; it uses its own principles to build itself. The core components of AetherScript, such as the `ModelCaller`, `JSDocIndexer`, and various AI provider implementations, are themselves defined as abstract services and then implemented by the AI.

This "self-hosting" is the ultimate proof of the AetherScript philosophy. It demonstrates that this approach is not just a novelty, but a robust and scalable way to build complex software.

## Core Abstractions

AetherScript's internal architecture is built on a set of core abstractions that are themselves generated by the AI:

*   **`ModelCaller`**: The service responsible for making calls to the underlying LLM.
*   **`JSDocIndexer`**: The service that scans your project for JSDoc comments to provide context to the AI.
*   **AI Providers**: Services that implement the logic for specific AI providers, such as Ollama or Cloudflare Workers AI.

By using `@AutoGen` on these internal components, AetherScript dogfoods its own technology, ensuring that the development of the tool itself benefits from the same principles of human-led, AI-assisted development.

## Getting Started

### Prerequisites

*   **Bun**: Install from the [official Bun website](https://bun.sh/).
*   **AI Provider**:
    *   **Ollama (Local)**: Download from the [official Ollama website](https://ollama.com/download) and pull a model (e.g., `ollama pull codellama`).
    *   **Cloudflare Workers AI (Remote)**: Set up your Cloudflare account and get your Account ID and API Token.

### Installation and Usage

1.  **Install the CLI**:
    ```bash
    bun install -g aetherscript
    ```

2.  **Configure your AI Provider**:
    *   **Ollama**: Ensure the Ollama service is running.
    *   **Cloudflare**: Set the following environment variables:
        ```bash
        export CLOUDFLARE_ACCOUNT_ID="your-account-id"
        export CLOUDFLARE_API_TOKEN="your-api-token"
        ```

3.  **Run Code Generation**:
    In your project's root directory, run the `gen` command:
    ```bash
    aesc gen
    ```
    This will scan your project for `@AutoGen` decorators and generate the corresponding implementations in the `src/generated` directory.

## CLI Commands

*   `aesc gen [files...] [options]`: Generate implementations for all `@AutoGen` decorators.
    *   `-f, --force`: Force overwrite existing files.
    *   `-v, --verbose`: Show detailed generation process.
    *   `-m, --model`: Specify the AI model to use.
    *   `-p, --provider`: Specify the AI provider (e.g., `ollama`, `cloudflare`).
*   `aesc list-providers`: List all available providers and their status.
*   `aesc test-provider [provider-name]`: Test the connection to a specific provider.
*   `aesc lock <paths...>`: Lock files to prevent regeneration.
*   `aesc unlock <paths...>`: Unlock previously locked files.

## Reliability Testing

AetherScript's structured approach dramatically improves the effective reliability of LLMs. The table below shows the success rate of different models on a standard code generation task, both with and without the guidance of AetherScript.

| Model               | Standard Benchmark (`pass@1`) | AetherScript Success Rate |
| ------------------- | ----------------------------- | ------------------------- |
| `codellama:7b`      | 28.7%                         | **57.0%**                 |
| `qwen2.5-coder:32b` | 60.9%                         | **100%**                  |

As the data shows, AetherScript provides a significant boost in reliability, turning even a moderately performing model into a more consistent tool, and elevating a high-performing model to near-perfect reliability.
